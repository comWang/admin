(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-3f73fa42":"acfe4ac5","chunk-7a5592d2":"43804260"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-3f73fa42":1,"chunk-7a5592d2":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-3f73fa42":"d2f2bcd5","chunk-7a5592d2":"d24f40e6"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0576":function(e,t,n){},1766:function(e,t,n){"use strict";n.r(t);var r=n("96eb"),a=n.n(r),o=n("59d5");a.a.mock(/\/sys\/selectRole/,(function(e){return Object(o["a"])(!0,[{roleName:"普通用户",roleCode:1},{roleName:"会员用户",roleCode:2},{roleName:"欧皇",roleCode:3},{roleName:"非酋",roleCode:4}])}))},"19fb":function(e,t,n){},2395:function(e,t,n){},"245a":function(e,t,n){n("99af"),n("d3b7"),n("25f0");var r=n("96eb");r.setup({timeout:"200-1000"});var a=r.mock;r.mock=function(e){console.log("mock: ".concat(e.toString()));for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return a.call.apply(a,[r,e].concat(n))},console.log("Mock server has established!"),n("248f"),n("1766")},"248f":function(e,t,n){"use strict";n.r(t);var r=n("96eb"),a=n.n(r),o=n("59d5"),i=[{path:"/system",description:"系统管理",component:"PageView",pages:[{path:"/setting",description:"系统设置",component:"RouterView",pages:[{path:"/RoleManage",description:"角色管理",component:"setting/RoleManage",permissions:[{name:"SELECT",description:"查看"},{name:"ADD",description:"新增"}]}]}]},{path:"/business",description:"业务管理",component:"PageView",pages:[{path:"/trace",description:"用户走向统计",component:"business/UserFlow",permissions:[{name:"SELECT",description:"查看"},{name:"DC",description:"导出"}]}]}];a.a.mock(/\/pub\/loginIn/,(function(e){return Object(o["a"])(!0,{token:"32de85a280edf",role:5})})),a.a.mock(/\/sys\/selectCatalog/,(function(e){return Object(o["a"])(!0,{userInfo:{nickname:"会飞的猪"},rows:i})}))},2754:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("404")])])}],o={},i=o,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports},"41dd":function(e,t,n){"use strict";var r=n("19fb"),a=n.n(r);a.a},4360:function(e,t,n){"use strict";var r=n("8bbf"),a=n.n(r),o=n("5880"),i=n.n(o),s=(n("d3b7"),n("3835")),c=(n("96cf"),n("1da1")),u=n("b775"),l=n("8ded"),f=n.n(l),d=(n("cf45"),function(e){return Object(u["a"])({url:"/sys/selectCatalog",method:"post",params:e})}),p=function(e){return Object(u["a"])({url:"/pub/loginIn",method:"post",params:e})},m={login:function(e,t){var n=e.commit;return new Promise(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r,a){var o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:o=e.sent,i=Object(s["a"])(o,2),c=i[0],u=i[1],u&&u.flag?(n("setUserInfo",{token:u.data.token,role:u.data.role,phone:t.username}),r()):a(new Error(c||u&&u.message));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},logout:function(e,t){var n=e.commit;t.$confirm("注销本次登录？","退出确认",{distinguishCancelAndClose:!0,confirmButtonText:"是",cancelButtonText:"否"}).then((function(){n("clearUserInfo"),window.location.reload()})).catch()},getPermissions:function(e){var t=e.commit;return new Promise(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n,r){var a,o,i,c,u,l,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=[f.a.get("role"),f.a.get("token"),f.a.get("phone")],o=a[0],i=a[1],c=a[2],i){e.next=4;break}return r(),e.abrupt("return");case 4:return e.next=6,d({role:o,token:i,phone:c});case 6:u=e.sent,l=Object(s["a"])(u,2),p=l[0],m=l[1],m&&m.flag?(t("setPermissions",m.data.rows),t("setUserProfile",m.data.userInfo),n()):r(new Error(p||m&&m.message));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},h=(n("99af"),n("4160"),n("d81d"),n("159b"),n("6e87")),g=(n("a4d3"),n("e01a"),n("b0c0"),n("ac1f"),n("5319"),n("680a")),v={BasicLayout:g["a"],PageView:g["c"],BlankLayout:g["b"],RouterView:{render:function(e){return e("router-view")}}},b=function(e,t){var n="";return n=t?t+e:e,n.replace(/\/\//g,"/")},y=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Array.isArray(t)||t.length<1)return[];var a=""===r?[{path:"/",component:"BasicLayout",pages:t}]:t;return a.map((function(t){return{path:b(t.path,r),component:t.component&&v[t.component]||function(){return n("9dac")("./".concat(t.component))},children:t.pages&&e(t.pages,r?r+t.path:t.path),redirect:t.pages&&t.pages.length&&b(t.pages[0].path,r+t.path),meta:{title:t.description,permissions:t.permissions&&t.permissions.map((function(e){return/_?ADD$/.test(e.name)?h["b"]:/_?DELETE$/.test(e.name)?h["d"]:/_?SELECT$/.test(e.name)?h["g"]:/_?UPDATE?$/.test(e.name)?h["h"]:/_?SP$/.test(e.name)?h["c"]:/_?CLASS$/.test(e.name)?h["i"]:/_?EXPORT$/.test(e.name)?h["e"]:/_?UPLOAD$/.test(e.name)?h["f"]:void 0}))}}}))},w=y,O=n("2754"),j=n("a18c"),k=function e(t){return t.map((function(t){var n={name:t.meta&&t.meta.title||"未命名",path:t.path};return t.children&&t.children.length&&(n.submenu=e(t.children)),n}))},x={setUserProfile:function(e,t){e.nickname=t.nickname,e.avatar=t.avatar},setUserInfo:function(e,t){f.a.set("role",t.role),f.a.set("phone",t.phone),f.a.set(h["a"],t.token),f.a.set(h["j"],t.roleName)},clearUserInfo:function(){f.a.remove(h["a"]),f.a.remove(h["j"]),f.a.remove("role"),f.a.remove("phone")},setPermissions:function(e,t){var n={},r=w(t);if(r.length){var a=r[0]||{},o=a.children;o&&o.forEach((function(e){n[e.path]=e.children&&k(e.children)}))}var i=r.concat([{path:"*",component:O["default"]}]);e.menu=n,e.dynamicRoutes=i,j["a"].addRoutes(i)},changeMenuByPath:function(e,t){e.category=t}};a.a.use(i.a);t["a"]=new i.a.Store({state:{avatar:"",nickname:"",dynamicRoutes:[],menu:{},category:"default"},getters:{},actions:m,mutations:x})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("8bbf"),a=n.n(r),o=n("6389"),i=n.n(o),s=n("5c96"),c=n.n(s),u=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),l=[],f=n("5530"),d=n("5880"),p={created:function(){this.getPermissions()},methods:Object(f["a"])({},Object(d["mapActions"])(["getPermissions"]))},m=p,h=(n("7c55"),n("2877")),g=Object(h["a"])(m,u,l,!1,null,null,null),v=g.exports,b=n("a18c"),y=n("4360"),w=console;n("99af"),n("caad"),n("2532");a.a.directive("auth",{inserted:function(e,t,n){var r=n.context,a=t.value,o=r.$router.currentRoute,i=(o.path,o.meta),s=i&&i.permissions;s&&s.length&&s.includes(a)||e.parentNode.removeChild(e)}});var O=n("323e"),j=n.n(O),k=(n("a5d8"),n("8ded")),x=n.n(k),_=n("6e87"),C=n("cf45");j.a.configure({showSpinner:!1});var P="/user/login",E=[P];b["a"].beforeEach((function(e,t,n){j.a.start(),e.meta&&e.meta.title&&Object(C["b"])(e.meta.title),x.a.get(_["a"])?e.path===P?(n({path:"/"}),j.a.done()):n():E.includes(e.path)?n():(n({path:P}),j.a.done())})),b["a"].afterEach((function(){j.a.done()}));n("245a");a.a.config.productionTip=!1,a.a.use(i.a),a.a.use(c.a),a.a.prototype.$debug=w,new a.a({router:b["a"],store:y["a"],render:function(e){return e(v)}}).$mount("#app")},5880:function(e,t){e.exports=Vuex},"59d5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{flag:e,data:t,message:n}}},6389:function(e,t){e.exports=VueRouter},"63ca":function(e,t,n){},6692:function(e,t,n){"use strict";var r=n("63ca"),a=n.n(r);a.a},"680a":function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return I}));var r,a,o,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"basic-layout"},[n("Aside"),n("div",{staticClass:"main"},[n("Header"),n("router-view")],1)],1)},c=[],u=n("5530"),l=n("5880"),f=(n("d81d"),n("b0c0"),n("2638")),d=n.n(f),p={default:{aside:{width:210,color:"#fafafa",activeColor:"#F6AA22",backgroundColor:"#353F48"}}},m=p.default,h={computed:Object(u["a"])({},Object(l["mapState"])(["menu","category"])),render:function(e){var t=m.aside,n=this.menu,r=this.category,a=this.$router.currentRoute.path,o=n[r]||[],i=function t(n){return e("el-submenu",{attrs:{index:n.path}},[e("template",{slot:"title"},[e("span",{slot:"title"},[n.name])]),n.submenu.map((function(n){return n.submenu?t(n.path,n.submenu):e("el-menu-item",{attrs:{index:n.path}},[e("span",{slot:"title"},[n.name])])}))])};return e("div",d()([{class:"dashboard"},{attrs:{style:"background-color: ".concat(t.backgroundColor)}}]),[e("h1",{class:"logo"},["LOGO"]),e("el-menu",{attrs:{"default-active":a,"text-color":t.color,"active-text-color":t.activeColor},on:{select:this.jumpToPage}},[o.map((function(t,n){return t.submenu?i(t):e("el-menu-item",{attrs:{index:t.path}},[e("span",{slot:"title"},[t.name])])}))])])},methods:{jumpToPage:function(e){this.$router.push({path:e})}}},g=h,v=(n("41dd"),n("2877")),b=Object(v["a"])(g,r,a,!1,null,"31055c5e",null),y=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("el-row",[n("el-col",{attrs:{sm:12,xs:12}},[n("div",{staticClass:"tabs left"},e._l(e.categories,(function(t,r){return n("p",{key:r,class:[e.active===r?"active ptr":"ptr"],on:{click:function(n){return e.toggleTab(t,r)}}},[e._v(" "+e._s(t.meta&&t.meta.title)+" ")])})),0)]),n("el-col",{attrs:{sm:12,xs:12}},[n("div",{staticClass:"tabs right"},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("el-image",{staticStyle:{width:"35px",height:"35px","border-raduis":"50%"},attrs:{src:e.avatar,fit:"cover"}}),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.nickname))])],1),n("p",{staticClass:"ptr",on:{click:e.prepareLogout}},[n("i",{staticClass:"el-icon-switch-button"}),e._v(" 退出 ")])])])],1)],1)},O=[],j=(n("c740"),n("4d63"),n("ac1f"),n("25f0"),{data:function(){return{active:0}},computed:Object(u["a"])(Object(u["a"])({},Object(l["mapState"])(["dynamicRoutes","avatar","nickname"])),{},{categories:function(){var e=this.dynamicRoutes;if(!e.length)return[];if(e[0]){var t=e[0].children;if(t&&t.length)return t}return[]}}),watch:{$route:function(){this.mapViewToRoute()}},created:function(){this.mapViewToRoute()},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["mapMutations"])(["changeMenuByPath"])),Object(l["mapActions"])(["logout"])),{},{mapViewToRoute:function(){var e=this.$router.currentRoute.path,t=this.categories.findIndex((function(t){return new RegExp(t.path).test(e)}));t>-1&&this.toggleTab({path:this.categories[t].path},t)},toggleTab:function(e,t){var n=e.path,r=this.$router.currentRoute.path;new RegExp(n).test(r)||this.$router.push({path:n}),this.active=t,this.changeMenuByPath(n)},prepareLogout:function(){this.logout(this)}})}),k=j,x=(n("8edd"),Object(v["a"])(k,w,O,!1,null,"7212c264",null)),_=x.exports,C={components:{Aside:y,Header:_},data:function(){return{}},computed:Object(u["a"])({},Object(l["mapState"])(["isCollapse","isMobile"]))},P=C,E=(n("6692"),Object(v["a"])(P,s,c,!1,null,null,null)),$=E.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-view")],1)},T=[],L={name:"BlankLayout"},A=L,S=Object(v["a"])(A,R,T,!1,null,"1fc87c57",null),M=S.exports,U={name:"PageView",render:function(e){this.$router.currentRoute;return e("div",{class:"box"},[e("div",{class:"page"},[e("router-view")])])},computed:Object(u["a"])({},Object(l["mapState"])(["isCollapse"]))},D=U,N=(n("d719"),Object(v["a"])(D,o,i,!1,null,"00dd42de",null)),I=N.exports},"6e87":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d}));var r="token",a="roleName",o="add",i="delete",s="read",c="update",u="audit",l="upload",f="export",d="grant"},"7c55":function(e,t,n){"use strict";var r=n("2395"),a=n.n(r);a.a},"8bbf":function(e,t){e.exports=Vue},"8edd":function(e,t,n){"use strict";var r=n("aba4"),a=n.n(r);a.a},"9dac":function(e,t,n){var r={"./business/UserFlow":["8f31","chunk-3f73fa42"],"./business/UserFlow.vue":["8f31","chunk-3f73fa42"],"./error/404":["2754"],"./error/404.vue":["2754"],"./logIn/Login":["e61a"],"./logIn/Login.vue":["e61a"],"./setting/RoleManage":["a03f","chunk-7a5592d2"],"./setting/RoleManage.vue":["a03f","chunk-7a5592d2"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="9dac",e.exports=a},a18c:function(e,t,n){"use strict";var r=n("2909"),a=n("6389"),o=n.n(a),i=n("680a"),s=n("e61a"),c=[{path:"/user",name:"user",component:i["b"],redirect:"/user/login",children:[{path:"/user/login",name:"login",component:s["default"]}]}],u=o.a.prototype.push;o.a.prototype.push=function(e,t,n){return t||n?u.call(this,e,t,n):u.call(this,e).catch((function(e){return e}))};t["a"]=new o.a({mode:"hash",routes:Object(r["a"])(c)})},aba4:function(e,t,n){},b775:function(e,t,n){"use strict";n("d3b7");var r=n("cebe"),a=n.n(r),o=n("8ded"),i=n.n(o),s=n("4360"),c=n("a18c"),u=n("5c96"),l=n("6e87"),f=n("cf45"),d="/user/login",p=a.a.create({baseURL:"http://example.com",timeout:1e4,withCredentials:!0}),m={},h=Object(f["c"])(u["Message"].error,null,3e3);p.interceptors.request.use((function(e){return e.headers||(e.headers=m),e.headers["Access-Token"]=i.a.get(l["a"]),e}),(function(e){return Promise.reject(e)})),p.interceptors.response.use((function(e){return e.data}),(function(e){return e.response?401===e.response.status?(s["a"].commit("clearUserInfo"),setTimeout((function(){c["a"].push({path:d})}),1e3)):(e.response.status>=500||e.response.status<200)&&h({message:"服务器开小差了，请稍后再试~"}):u["Message"].error({message:"服务不可达，可能是网络连接出现了问题"}),Promise.reject(e)}));var g=function(e,t){return Object(f["a"])(p(e,t))};t["a"]=g},cebe:function(e,t){e.exports=axios},cf45:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));n("4160"),n("b680"),n("b64b"),n("d3b7"),n("159b"),n("53ca");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=null,o=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];if(o){clearTimeout(a);var u=new Date;u-o>=n?(e.apply(t,s),o=null):(a=setTimeout((function(){return e.apply(t,s)}),n),o=u)}else o=new Date,r?e.apply(t,s):a=setTimeout((function(){return e.apply(t,s)}),n)}},a=function(e){return new Promise((function(t){e.then((function(e){return t([null,e])})).catch((function(e){return t([e,null])}))}))},o=function(e){document.title=e;var t=navigator.userAgent,n=/\bMicroMessenger\/([\d\.]+)/;if(n.test(t)&&/ip(hone|od|ad)/i.test(t)){var r=document.createElement("iframe");r.src="/favicon.ico",r.style.display="none",r.onload=function(){setTimeout((function(){r.remove()}),9)},document.body.appendChild(r)}}},d719:function(e,t,n){"use strict";var r=n("d992"),a=n.n(r);a.a},d992:function(e,t,n){},e420:function(e,t,n){"use strict";var r=n("0576"),a=n.n(r);a.a},e61a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page"},[n("div",{staticClass:"form-wrapper"},[n("p",{staticClass:"title"},[e._v("Login")]),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"form",attrs:{model:e.form,"label-width":"100px","label-position":"top"}},[n("el-form-item",{attrs:{prop:"username",label:"账号",rules:[{required:!0,message:"请输入账号"}]}},[n("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{prop:"password",label:"密码",rules:[{required:!0,message:"请输入密码"}]}},[n("el-input",{attrs:{type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),n("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")])],1),n("div",{staticClass:"decoration-layer"},[e._m(0),n("p",{staticClass:"bottom"},[e._v("Copyright © 2018-"+e._s((new Date).getFullYear())+" Powered by comwang.github.io")])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top"},[n("p",[e._v("welcome")]),n("p",[e._v("后台管理系统")])])}],o=(n("d3b7"),n("96cf"),n("1da1")),i=n("5530"),s=(n("b775"),n("5880")),c={data:function(){return{isLoading:!1,form:{username:"",password:""}}},methods:Object(i["a"])(Object(i["a"])({},Object(s["mapActions"])(["getPermissions","login"])),{},{submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n&&(e.isLoading=!0,e.login(Object(i["a"])({},e.form)).then((function(){e.$notify({message:"登录成功，即将进入主页面",type:"success"}),e.getPermissions().then((function(){e.$router.push({path:"/"})}))})).catch((function(t){return e.$message({type:"error",message:t.message})})).finally((function(){return e.isLoading=!1})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})},u=c,l=(n("e420"),n("2877")),f=Object(l["a"])(u,r,a,!1,null,"4c678e4c",null);t["default"]=f.exports}});